/*! lightense-images v1.0.3 | Â© Tunghsiao Liu | MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Lightense=t():e.Lightense=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e){switch("undefined"==typeof e?"undefined":r(e)){case"undefined":throw"You need to pass an element!";case"string":return document.querySelectorAll(e);case"object":return e}}function t(e){var t=e.length;if(t)for(var n=0;t>n;n++)o(e[n]);else o(e)}function o(e){e.src&&(e.classList.add("lightense-target"),e.addEventListener("click",function(t){return k.keyboard&&(t.metaKey||t.ctrlKey)?h.open(e.src,"_blank"):void u(this)},!1))}function i(){var e="\n      .lightense-backdrop {\n        box-sizing: border-box;\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        top: 0;\n        left: 0;\n        overflow: hidden;\n        z-index: "+(k.zIndex-1)+";\n        padding: 0;\n        margin: 0;\n        transition: opacity "+k.time+"ms ease;\n        cursor: zoom-out;\n        opacity: 0;\n        background-color: rgba(255, 255, 255, .98);\n        visibility: hidden;\n      }\n\n      @supports (-webkit-backdrop-filter: blur(30px)) {\n        .lightense-backdrop {\n          background-color: rgba(255, 255, 255, .6);\n          -webkit-backdrop-filter: blur(30px);\n          backdrop-filter: blur(30px);\n        }\n      }\n\n      .lightense-wrap {\n        position: relative;\n        transition: transform "+k.time+"ms "+k.cubicBezier+";\n        z-index: "+k.zIndex+";\n        pointer-events: none;\n      }\n\n      .lightense-target {\n        cursor: zoom-in;\n        transition: transform "+k.time+"ms "+k.cubicBezier+";\n        pointer-events: auto;\n      }\n\n      .lightense-open {\n        cursor: zoom-out;\n      }\n\n      .lightense-transitioning {\n        pointer-events: none;\n      }\n    ",t=y.head||y.getElementsByTagName("head")[0],n=y.createElement("style");n.styleSheet?n.styleSheet.cssText=e:n.appendChild(y.createTextNode(e)),t.appendChild(n)}function a(){k.container=y.createElement("div"),k.container.className="lightense-backdrop",y.body.appendChild(k.container)}function s(e){var t=e.width,n=e.height,r=h.pageYOffset||y.documentElement.scrollTop||0,o=h.pageXOffset||y.documentElement.scrollLeft||0,i=k.target.getBoundingClientRect(),a=t/i.width,s=h.innerWidth||y.documentElement.clientWidth||0,c=h.innerHeight||y.documentElement.clientHeight||0,l=s-k.padding,d=c-k.padding,u=t/n,p=l/d;l>t&&d>n?k.scaleFactor=a:p>u?k.scaleFactor=d/n*a:k.scaleFactor=l/t*a;var f=s/2,g=r+c/2,m=i.left+o+i.width/2,b=i.top+r+i.height/2;k.translateX=f-m,k.translateY=g-b}function c(){k.target.classList.add("lightense-open"),k.wrap=y.createElement("div"),k.wrap.className="lightense-wrap",setTimeout(function(){k.target.style.transform="scale("+k.scaleFactor+")"},20),k.target.parentNode.insertBefore(k.wrap,k.target),k.wrap.appendChild(k.target),setTimeout(function(){k.wrap.style.transform="translate3d("+k.translateX+"px, "+k.translateY+"px, 0)"},20),k.background&&(k.container.style.backgroundColor=k.background),k.container.style.visibility="visible",setTimeout(function(){k.container.style.opacity="1"},20)}function l(){f(),k.target.classList.remove("lightense-open"),k.wrap.style.transform="",k.target.style.transform="",k.target.classList.add("lightense-transitioning"),k.container.style.opacity="",setTimeout(function(){k.container.style.visibility="",k.container.style.backgroundColor="",k.wrap.parentNode.replaceChild(k.target,k.wrap),k.target.classList.remove("lightense-transitioning")},k.time)}function d(){var e=Math.abs(k.scrollY-h.scrollY);e>=k.offset&&l()}function u(e){if(k.target=e,k.target.classList.contains("lightense-open"))return l();k.scrollY=h.scrollY,k.background=k.target.getAttribute("data-background")||!1,k.padding=k.target.getAttribute("data-padding")||v.padding;var t=new Image;t.onload=function(){s(this),c(),p()},t.src=k.target.src}function p(){h.addEventListener("keyup",g,!1),h.addEventListener("scroll",d,!1),k.container.addEventListener("click",l,!1)}function f(){h.removeEventListener("keyup",g,!1),h.removeEventListener("scroll",d,!1),k.container.removeEventListener("click",l,!1)}function g(e){e.preventDefault(),27===e.keyCode&&l()}function m(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b=e(r),k=n({},v,o),i(),a(),t(b)}var b,h=window,y=document,v={time:300,padding:40,offset:40,keyboard:!0,cubicBezier:"cubic-bezier(.2, 0, .1, 1)",zIndex:2147483647},k={};return m},i=o();e.exports=i}])});